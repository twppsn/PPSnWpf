<UserControl x:Class="TecWare.PPSn.UI.PpsCharmbarControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
 			 xmlns:ui="clr-namespace:TecWare.PPSn.UI;assembly=PPSn.Desktop.UI"
             xmlns:uiL="clr-namespace:TecWare.PPSn.UI"
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300">
    <UserControl.Resources>
        <SolidColorBrush x:Key="BoardDarkerBackGroundBrush" Color="{ui:AlphaBlendColor Source={StaticResource PPSnDesktopColor}, Destination={StaticResource PPSnBlackColor}, SourcePart=0.85}" />

		<!--Charmbar notes-->
        <DrawingImage x:Key="notebookImage">
            <DrawingImage.Drawing>
				<GeometryDrawing Brush="{StaticResource PPSnImageBrush}"
							 Geometry="M2560 7680l5120 0 0 640 -5120 0 0 -640zm0 -3840l5120 0 0 640 -5120 0 0 -640zm0 1280l5120 0 0 640 -5120 0 0 -640zm0 1280l5120 0 0 640 -5120 0 0 -640z
							 M8960 2240l0 6720c0,353 -287,640 -640,640l-6400 0c-353,0 -640,-287 -640,-640l0 -6720c0,-353 287,-640 640,-640l0 7360 6400 0 0 -7360c353,0 640,287 640,640z
							 M7360 640l320 0c176,0 320,144 320,320l0 1280c0,176 -144,320 -320,320l-320 0c-176,0 -320,-144 -320,-320l0 -1280c0,-176 144,-320 320,-320zm-4800 0l320 0c176,0 320,144 320,320l0 1280c0,176 -144,320 -320,320l-320 0c-176,0 -320,-144 -320,-320l0 -1280c0,-176 144,-320 320,-320zm1600 0l320 0c176,0 320,144 320,320l0 1280c0,176 -144,320 -320,320l-320 0c-176,0 -320,-144 -320,-320l0 -1280c0,-176 144,-320 320,-320zm1600 0l320 0c176,0 320,144 320,320l0 1280c0,176 -144,320 -320,320l-320 0c-176,0 -320,-144 -320,-320l0 -1280c0,-176 144,-320 320,-320z"/>
            </DrawingImage.Drawing>
        </DrawingImage>

        <!--Charmbar appendix-->
        <DrawingImage x:Key="paperclipImage">
            <DrawingImage.Drawing>
				<GeometryDrawing Brush="{StaticResource PPSnImageBrush}"
							 Geometry="M5440 320c1237,0 2240,1003 2240,2240l0 4960c0,88 -72,160 -160,160l-320 0c-88,0 -160,-72 -160,-160l0 -4960c0,-884 -716,-1600 -1600,-1600 -884,0 -1600,716 -1600,1600l0 5600c0,619 501,1120 1120,1120 619,0 1120,-501 1120,-1120l0 -4320c0,-353 -287,-640 -640,-640 -353,0 -640,287 -640,640l0 3040c0,88 -72,160 -160,160l-320 0c-88,0 -160,-72 -160,-160l0 -3040c0,-707 573,-1280 1280,-1280 707,0 1280,573 1280,1280l0 4320c0,972 -788,1760 -1760,1760 -972,0 -1760,-788 -1760,-1760l0 -5600c0,-1237 1003,-2240 2240,-2240z"/>
            </DrawingImage.Drawing>
        </DrawingImage>

        <!--Charmbar history-->
        <DrawingImage x:Key="historyImage">
            <DrawingImage.Drawing>
				<GeometryDrawing Brush="{StaticResource PPSnImageBrush}"
							 Geometry="M3840 7360l-640 0 0 -656c105,10 212,16 320,16 108,0 215,-5 320,-16l0 656 0 0zm2864 -4160l1936 0c530,0 960,430 960,960 0,530 -430,960 -960,960l0 -640c177,0 320,-143 320,-320 0,-177 -143,-320 -320,-320 -177,0 -320,143 -320,320l0 320 0 585 0 3575c0,530 -430,960 -960,960l-4480 0c-537,0 -971,-441 -960,-979 10,-522 438,-941 960,-941l961 0 3200 0c176,0 320,144 320,320l0 86c0,117 -58,218 -160,277 -96,55 -160,159 -160,277 0,177 143,320 320,320 177,0 320,-143 320,-320l0 -905 0 -3575c0,-112 19,-220 55,-320l-1031 0c10,-105 16,-212 16,-320 0,-108 -5,-215 -16,-320zm-2864 5760l-960 0c-177,0 -320,-143 -320,-320l0 0c0,-176 144,-320 320,-320l960 0 2615 0c-35,100 -55,208 -55,320 0,112 19,220 55,320l-2615 0z
							 M2849 1721l671 1159c116,0 226,31 320,85l877 -507c142,159 252,347 321,554l-878 508c0,353 -287,640 -640,640 -353,0 -640,-287 -640,-640 0,-116 31,-226 85,-320l-670 -1159c164,-136 351,-245 554,-321z
							 M3520 640c1591,0 2880,1289 2880,2880 0,1591 -1289,2880 -2880,2880 -1591,0 -2880,-1289 -2880,-2880 0,-1591 1289,-2880 2880,-2880zm0 640c1237,0 2240,1003 2240,2240 0,1237 -1003,2240 -2240,2240 -1237,0 -2240,-1003 -2240,-2240 0,-1237 1003,-2240 2240,-2240z"/>
            </DrawingImage.Drawing>
        </DrawingImage>

        <!--Charmbar help-->
        <DrawingImage x:Key="speech_balloon_questionImage">
            <DrawingImage.Drawing>
				<GeometryDrawing Brush="{StaticResource PPSnImageBrush}"
							 Geometry="M4640 5440l640 0c88,0 160,72 160,160l0 640c0,88 -72,160 -160,160l-640 0c-88,0 -160,-72 -160,-160l0 -640c0,-88 72,-160 160,-160zm-1120 -2080l0 -160c0,-309 126,-589 328,-792 203,-203 483,-328 792,-328l960 0c309,0 589,126 792,328 203,203 328,483 328,792l0 244c0,213 -59,414 -167,589 -107,173 -261,315 -453,411l-572 286c-30,15 -53,35 -67,58 -13,21 -20,51 -20,86l0 84c0,88 -72,160 -160,160l-640 0c-88,0 -160,-72 -160,-160l0 -84c0,-213 59,-414 167,-589 107,-173 261,-315 453,-411l572 -286c30,-15 53,-35 67,-58 13,-21 20,-51 20,-86l0 -244c0,-44 -18,-84 -47,-113 -29,-29 -69,-47 -113,-47l-960 0c-44,0 -84,18 -113,47 -29,29 -47,69 -47,113l0 160c0,88 -72,160 -160,160l-640 0c-88,0 -160,-72 -160,-160z
							 M5120 640c2474,0 4480,1576 4480,3520 0,911 -440,1740 -1162,2365 -107,93 -173,203 -205,341 -319,1393 -1486,2414 -3112,2414 213,-213 354,-475 449,-761 66,-199 37,-398 -84,-570 -120,-171 -298,-266 -508,-272 -2408,-59 -4338,-1612 -4338,-3518 0,-1944 2006,-3520 4480,-3520zm1119 7774c680,-300 1185,-886 1369,-1690 62,-271 200,-501 410,-682 556,-481 941,-1133 941,-1881 0,-1906 -2203,-2880 -3840,-2880 -1637,0 -3840,974 -3840,2880 0,217 33,431 96,638 452,1477 2191,2205 3617,2240 412,10 778,206 1016,543 175,248 254,540 230,832z"/>
            </DrawingImage.Drawing>
        </DrawingImage>

        <Storyboard x:Key="BoardShrinkStoryboard" FillBehavior="HoldEnd">
            <DoubleAnimation Storyboard.TargetProperty="Width" To="0" Duration="{StaticResource PPSnShrinkStoryDuration}"/>
            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="{StaticResource PPSnShrinkStoryKeyTime}" Value="{x:Static Visibility.Collapsed}"/>
            </ObjectAnimationUsingKeyFrames>
        </Storyboard>
        <Storyboard x:Key="BoardIncreaseStoryboard" FillBehavior="HoldEnd">
            <ObjectAnimationUsingKeyFrames Storyboard.TargetProperty="Visibility">
                <DiscreteObjectKeyFrame KeyTime="0" Value="{x:Static Visibility.Visible}"/>
            </ObjectAnimationUsingKeyFrames>
            <DoubleAnimation Storyboard.TargetProperty="Width" To="700" Duration="{StaticResource PPSnShrinkStoryDuration}"/>
        </Storyboard>
        <Style x:Key="CharmbarButtonStyle" TargetType="{x:Type ToggleButton}">
            <Setter Property="Height" Value="70"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="{StaticResource PPSnWindowForegroundBrush}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Opacity" Value="0.6"/>
            <Setter Property="Focusable" Value="False"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ToggleButton}">
                        <Grid x:Name="PART_Grid">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="50"/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>
                            <Image x:Name="PART_Image" Source="{TemplateBinding Tag}" Width="42" Height="42" HorizontalAlignment="Center" />
                            <Border x:Name="PART_Content" Grid.Row="1" BorderThickness="0" SnapsToDevicePixels="true" IsHitTestVisible="True">
                                <ContentPresenter Content="{TemplateBinding Content}" HorizontalAlignment="Center" VerticalAlignment="Top"></ContentPresenter>
                            </Border>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
								<Setter TargetName="PART_Grid"  Property="Background" Value="{StaticResource PPSnMouseOverBrush}" />
                                <Setter Property="Opacity" Value="1.0"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="PART_Grid" Property="Background" Value="{StaticResource PPSnButtonPressedBrush}"/>
                                <Setter Property="Opacity" Value="1.0"/>
                            </Trigger>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter Property="Opacity" Value="1.0"/>
                                <Setter Property="Foreground" Value="{StaticResource PPSnMarkerBrush}"/>
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames  Storyboard.TargetName="PART_Image" Storyboard.TargetProperty="(Image.Source).(DrawingImage.Drawing).(GeometryDrawing.Brush)">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource PPSnMarkerBrush}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="PART_Image" Storyboard.TargetProperty="(Image.Source).(DrawingImage.Drawing).(GeometryDrawing.Brush)">
                                                <DiscreteObjectKeyFrame KeyTime="0" Value="{StaticResource PPSnImageBrush}"/>
                                            </ObjectAnimationUsingKeyFrames>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto"/>
            <ColumnDefinition Width="72"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="64"/>
            <RowDefinition Height="100"/>
            <RowDefinition Height="100"/>
            <RowDefinition Height="100"/>
            <RowDefinition Height="100"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Border x:Name="PART_ContentHost" Grid.Column="0" Grid.Row="0" Grid.RowSpan="6" Width="0" Visibility="Collapsed">
            <TextBlock x:Name="PART_ContentInfo" Text="1111111111111111111" Foreground="{StaticResource PPSnWindowForegroundBrush}" Margin="64" FontSize="18.667" FontWeight="Medium"/>
            <Border.Style>
                <Style TargetType="{x:Type Border}">
                    <Setter Property="Background" Value="{StaticResource BoardDarkerBackGroundBrush}"/>
                    <Setter Property="Margin" Value="0,0,6,0"/>
                    <Setter Property="BorderThickness" Value="1"/>
                    <Setter Property="BorderBrush" Value="{StaticResource PPSnSeparatorBrush}"/>
                    <Style.Triggers>
                        <DataTrigger Binding="{Binding Path=BoardVisibility, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=uiL:PpsCharmbarControl}}" Value="Visible">
                            <DataTrigger.EnterActions>
                                <BeginStoryboard Storyboard="{StaticResource BoardIncreaseStoryboard}" />
                            </DataTrigger.EnterActions>
                            <DataTrigger.ExitActions>
                                <BeginStoryboard Storyboard="{StaticResource BoardShrinkStoryboard}" />
                            </DataTrigger.ExitActions>
                        </DataTrigger>
                    </Style.Triggers>
                </Style>
            </Border.Style>
        </Border>
        <ToggleButton x:Name="PART_NotesButton" Grid.Column="1" Grid.Row="1" Content="Notizen" Style="{StaticResource CharmbarButtonStyle}" Tag="{StaticResource notebookImage}" Click="ToggleButton_Click"/>
        <ToggleButton x:Name="PART_AppendixButton" Grid.Column="1" Grid.Row="2" Content="Anlagen" Style="{StaticResource CharmbarButtonStyle}" Tag="{StaticResource paperclipImage}" Click="ToggleButton_Click"/>
        <ToggleButton x:Name="PART_HistoryButton" Grid.Column="1" Grid.Row="3" Content="Historie" Style="{StaticResource CharmbarButtonStyle}" Tag="{StaticResource historyImage}" Click="ToggleButton_Click"/>
        <ToggleButton x:Name="PART_HelpButton" Grid.Column="1" Grid.Row="4" Content="Hilfe" Style="{StaticResource CharmbarButtonStyle}" Tag="{StaticResource speech_balloon_questionImage}" Click="ToggleButton_Click"/>
    </Grid>
</UserControl>
